# A2 Hosting è³‡æ–™åº«è¨­å®šæ­¥é©Ÿ

## ğŸ‰ æ‡‰ç”¨ç¨‹å¼å·²æˆåŠŸå•Ÿå‹•ï¼

ä½†å‡ºç¾éŒ¯èª¤ï¼š**ã€Œç„¡æ³•è¼‰å…¥ä¸»é¡Œã€‚è«‹ç¢ºèªä¼ºæœå™¨èˆ‡è³‡æ–™åº«å·²å•Ÿå‹•ã€‚ã€**

é€™æ˜¯å› ç‚ºé‚„æ²’è¨­å®šè³‡æ–™åº«é€£ç·šã€‚

---

## ğŸ“‹ è¨­å®š PostgreSQL è³‡æ–™åº«

### æ­¥é©Ÿ 1: å»ºç«‹ PostgreSQL è³‡æ–™åº«

1. ç™»å…¥ **cPanel**
2. æ‰¾åˆ° **PostgreSQL Databases**
3. åœ¨ "Create New Database" å€åŸŸï¼š
   - Database Name: è¼¸å…¥ `truthcircle`ï¼ˆæˆ–å…¶ä»–åç¨±ï¼‰
   - é»æ“Š **Create Database**
   - è¨˜ä¸‹å®Œæ•´çš„è³‡æ–™åº«åç¨±ï¼ˆä¾‹å¦‚ï¼š`pcbabyco_truthcircle`ï¼‰

### æ­¥é©Ÿ 2: å»ºç«‹è³‡æ–™åº«ä½¿ç”¨è€…

1. åœ¨åŒä¸€é é¢çš„ "Add New User" å€åŸŸï¼š
   - Username: è¼¸å…¥ `truthcircle_user`ï¼ˆæˆ–å…¶ä»–åç¨±ï¼‰
   - Password: è¨­å®šä¸€å€‹å¼·å¯†ç¢¼
   - é»æ“Š **Create User**
   - è¨˜ä¸‹å®Œæ•´çš„ä½¿ç”¨è€…åç¨±ï¼ˆä¾‹å¦‚ï¼š`pcbabyco_truthcircle_user`ï¼‰

### æ­¥é©Ÿ 3: å°‡ä½¿ç”¨è€…åŠ å…¥è³‡æ–™åº«

1. åœ¨ "Add User To Database" å€åŸŸï¼š
   - User: é¸æ“‡å‰›å»ºç«‹çš„ä½¿ç”¨è€…
   - Database: é¸æ“‡å‰›å»ºç«‹çš„è³‡æ–™åº«
   - é»æ“Š **Add**
2. åœ¨æ¬Šé™é é¢ï¼Œå‹¾é¸ **ALL PRIVILEGES**
3. é»æ“Š **Make Changes**

### æ­¥é©Ÿ 4: è¨­å®šé ç«¯å­˜å–

1. åœ¨ cPanel æ‰¾åˆ° **Remote PostgreSQL**
2. åœ¨ "Access Hosts" æ¬„ä½è¼¸å…¥ï¼š`127.0.0.1`
3. é»æ“Š **Add Host**

---

## âš™ï¸ è¨­å®šç’°å¢ƒè®Šæ•¸

### æ­¥é©Ÿ 5: åœ¨ Setup Node.js App è¨­å®šç’°å¢ƒè®Šæ•¸

1. é€²å…¥ cPanel â†’ **Setup Node.js App**
2. æ‰¾åˆ°æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ï¼Œé»æ“Šæ—é‚Šçš„ **Edit** æˆ–é‰›ç­†åœ–ç¤º
3. æ»¾å‹•åˆ° **Environment variables** å€åŸŸ
4. åŠ å…¥ä»¥ä¸‹ç’°å¢ƒè®Šæ•¸ï¼š

#### DATABASE_URL
**è®Šæ•¸åç¨±ï¼š** `DATABASE_URL`

**è®Šæ•¸å€¼ï¼š**ï¼ˆè«‹æ›¿æ›æˆæ‚¨çš„å¯¦éš›è³‡è¨Šï¼‰
```
postgresql://pcbabyco_truthcircle_user:æ‚¨çš„å¯†ç¢¼@127.0.0.1:5432/pcbabyco_truthcircle
```

**æ ¼å¼èªªæ˜ï¼š**
```
postgresql://ä½¿ç”¨è€…åç¨±:å¯†ç¢¼@127.0.0.1:5432/è³‡æ–™åº«åç¨±
```

**ç¯„ä¾‹ï¼š**
å‡è¨­ï¼š
- ä½¿ç”¨è€…åç¨±ï¼š`pcbabyco_truthcircle_user`
- å¯†ç¢¼ï¼š`MySecurePass123`
- è³‡æ–™åº«åç¨±ï¼š`pcbabyco_truthcircle`

å‰‡å¡«å…¥ï¼š
```
postgresql://pcbabyco_truthcircle_user:MySecurePass123@127.0.0.1:5432/pcbabyco_truthcircle
```

#### JWT_SECRET
**è®Šæ•¸åç¨±ï¼š** `JWT_SECRET`

**è®Šæ•¸å€¼ï¼š**ï¼ˆéš¨æ©Ÿé•·å­—ä¸²ï¼‰
```
your-super-secret-random-string-change-this-12345
```

#### NODE_ENV
**è®Šæ•¸åç¨±ï¼š** `NODE_ENV`

**è®Šæ•¸å€¼ï¼š**
```
production
```

### æ­¥é©Ÿ 6: å„²å­˜ä¸¦é‡å•Ÿ

1. é»æ“Š **Save** æˆ– **Update**
2. é»æ“Š **Restart** é‡å•Ÿæ‡‰ç”¨ç¨‹å¼
3. ç­‰å¾… 10-20 ç§’è®“æ‡‰ç”¨ç¨‹å¼å®Œå…¨å•Ÿå‹•

---

## ğŸ¯ æ¸¬è©¦

1. é‡æ–°æ•´ç†æ‚¨çš„ç¶²ç«™
2. æ‡‰è©²æœƒçœ‹åˆ°é è¨­çš„ä¸»é¡Œè³‡æ–™
3. å¯ä»¥ä½¿ç”¨é è¨­å¸³è™Ÿç™»å…¥ï¼š
   - ä½¿ç”¨è€…åç¨±ï¼š`admin`
   - å¯†ç¢¼ï¼š`admin`

---

## ğŸ” å¦‚æœé‚„æ˜¯å¤±æ•—

### æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ

1. åœ¨ Setup Node.js App ä¸­é»æ“Šæ‡‰ç”¨ç¨‹å¼æ—çš„ **æ—¥èªŒåœ–ç¤º**
2. æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯

### å¸¸è¦‹éŒ¯èª¤è¨Šæ¯

**éŒ¯èª¤ï¼š** `no pg_hba.conf entry`
- **è§£æ±ºï¼š** ç¢ºèª `127.0.0.1` å·²åŠ å…¥ Remote PostgreSQL ç™½åå–®ï¼Œç„¶å¾Œé‡å•Ÿæ‡‰ç”¨

**éŒ¯èª¤ï¼š** `password authentication failed`
- **è§£æ±ºï¼š** æª¢æŸ¥ DATABASE_URL ä¸­çš„å¯†ç¢¼æ˜¯å¦æ­£ç¢º

**éŒ¯èª¤ï¼š** `database "xxx" does not exist`
- **è§£æ±ºï¼š** æª¢æŸ¥ DATABASE_URL ä¸­çš„è³‡æ–™åº«åç¨±æ˜¯å¦æ­£ç¢º

---

## ğŸ“ ç’°å¢ƒè®Šæ•¸è¨­å®šç¸½çµ

åœ¨ Setup Node.js App çš„ Environment variables å€åŸŸåŠ å…¥ï¼š

| è®Šæ•¸åç¨± | ç¯„ä¾‹å€¼ |
|---------|--------|
| `DATABASE_URL` | `postgresql://pcbabyco_truthcircle_user:å¯†ç¢¼@127.0.0.1:5432/pcbabyco_truthcircle` |
| `JWT_SECRET` | `your-random-secret-key-here` |
| `NODE_ENV` | `production` |

è¨­å®šå®Œæˆå¾Œè¨˜å¾—é»æ“Š **Restart**ï¼
