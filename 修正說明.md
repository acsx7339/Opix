# ä¿®æ­£ A2 Hosting å»ºç½®éŒ¯èª¤

## ğŸ”§ å·²ä¿®æ­£çš„å•é¡Œ

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
TypeError: crypto$2.getRandomValues is not a function
```

**åŸå› ï¼š**
Vite 5.x éœ€è¦ Node.js 18+ çš„æ–°ç‰ˆ crypto APIï¼Œä½† A2 Hosting å¯èƒ½ä½¿ç”¨è¼ƒèˆŠçš„ Node.js ç‰ˆæœ¬ã€‚

**è§£æ±ºæ–¹æ¡ˆï¼š**
å·²å°‡å¥—ä»¶é™ç´šåˆ°ç©©å®šå…¼å®¹ç‰ˆæœ¬ï¼š
- âœ… Vite: `5.2.10` â†’ `4.5.3`
- âœ… React: `19.2.1` â†’ `18.2.0`
- âœ… @types/react: `19.0.0` â†’ `18.2.0`

---

## ğŸ“¤ æ¥ä¸‹ä¾†çš„æ­¥é©Ÿ

### 1. é‡æ–°ä¸Šå‚³å°ˆæ¡ˆ

**æ–°çš„å£“ç¸®æª”å·²æº–å‚™å¥½ï¼š** `truthcircle_deploy.zip`

**åœ¨ A2 ä¸Šé‡æ–°éƒ¨ç½²ï¼š**

```bash
# SSH ç™»å…¥ A2
ssh username@ä½ çš„ç¶²åŸŸ.com

# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd ~/open.pc-baby.com

# åˆªé™¤èˆŠçš„ client å’Œ server è³‡æ–™å¤¾
rm -rf client server

# é‡æ–°ä¸Šå‚³ä¸¦è§£å£“ç¸®æ–°çš„ truthcircle_deploy.zip
# (ä½¿ç”¨ FTP ä¸Šå‚³å¾Œ)
unzip -o truthcircle_deploy.zip

# æ¸…é™¤èˆŠçš„ node_modules
rm -rf client/node_modules server/node_modules

# é‡æ–°å»ºç½®
npm install
npm run build
```

### 2. å¦‚æœé‚„æ˜¯å‡ºç¾å•é¡Œ

**æª¢æŸ¥ Node.js ç‰ˆæœ¬ï¼š**
```bash
node --version
```

å¦‚æœç‰ˆæœ¬ä½æ–¼ 16.xï¼Œåœ¨ cPanel çš„ "Setup Node.js App" ä¸­é¸æ“‡æ›´é«˜ç‰ˆæœ¬ï¼ˆå»ºè­° 18.xï¼‰

---

## âœ… é æœŸçµæœ

åŸ·è¡Œ `npm run build` å¾Œæ‡‰è©²æœƒçœ‹åˆ°ï¼š
```
âœ… Build Complete!
ğŸ‘‰ You can now upload the entire "server" folder to A2 Hosting.
```

ç„¶å¾Œåœ¨ `server/dist/` è³‡æ–™å¤¾æœƒå‡ºç¾å»ºç½®å¥½çš„å‰ç«¯æª”æ¡ˆã€‚

---

## ğŸš¨ å¦‚æœå•é¡ŒæŒçºŒ

è«‹å›å ±ï¼š
1. A2 ä¸Šçš„ Node.js ç‰ˆæœ¬ï¼ˆ`node --version`ï¼‰
2. å®Œæ•´çš„éŒ¯èª¤è¨Šæ¯

æˆ‘æœƒæ ¹æ“šå…·é«”æƒ…æ³å†èª¿æ•´è¨­å®šã€‚
